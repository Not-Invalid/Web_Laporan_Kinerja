<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Web Laporan Kinerja</title>
      <link
         rel="stylesheet"
         href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      />
      <link
         href="https://fonts.googleapis.com/css2?family=Alata&family=Poppins:wght@400;500;600&display=swap"
         rel="stylesheet"
      />
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
   </head>
   <style>
      		html, body {
			font-family: 'Poppins', sans-serif;
			min-height: 100vh;
			}
      	#video, #canvas {
			display: block;
         width: 70vw !important;
			height: 50vh !important;
			max-height: 70vh !important;
			margin: auto !important;
			margin-bottom: 1.5rem !important;
			margin-top: 1.5rem !important;
			}
   </style>
   <body>
      <nav class="navbar navbar-expand-lg bg-info p-1">
         <div class="container-fluid mx-5">
            <a class="navbar-brand me-5" href="#"
            ><img src="smk_logo.png" alt="logo" height="50"
            /></a>
            <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup"
            aria-expanded="false"
            aria-label="Toggle navigation"
            >
               <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
               <div class="navbar-nav">
                  <a
                     class="nav-link active"
                     aria-current="page"
                     href="home.html"
                     >Home</a
                     >
                  </div>
            </div>
         </div>
      </nav>
      <div class="container-fluid pt-5">
         <h5 class="text-center fs-4 mb-5">Form Laporan Kinerja Guru</h5>
         <form
         action="https://script.google.com/macros/s/AKfycbzdhFmK3Qojimq37R_5Msmweb8y-odICiyn5e6mJj6P6vQa6lVLmPtx8upfQhgV8MI_Bg/exec"
         method="POST"
         >
         <div class="row g-3 mx-3">
            <div class="col-md-6">
               <label for="nomor_laporan" class="form-label">Nomor Laporan</label>
               <input id="nomor_laporan" name="nomor_laporan" type="text" class="form-control" required>
            </div>
            <div class="col-md-6">
			<label for="nama_kegiatan" class="form-label">Nama Kegiatan</label>
			<input id="nama_kegiatan" name="nama_kegiatan" type="text" class="form-control" required>
		</div>
		<div class="col-md-6">
			<label class="form-label">Jenis Kegiatan</label>
			<select name="jenis_kegiatan" id="jenis_kegiatan" class="form-select">
				<option value="" disabled selected hidden>Pilih Jenis Kegiatan</option>
				<option value="KBM">KBM</option>
				<option value="Non-KBM">Non-KBM</option>
			</select>
		</div>
		<div class="col-md-6">
         <label class="form-label">Tanggal Kegiatan</label>
         <input type="date" id="datePicker"  placeholder="" name="datePicker" class="datepicker form-control" required>		
      </div>
		<div class="col-md-6">
         <label for="uraian_kegiatan" class="form-label">Uraian Kegiatan</label>
			<textarea id="uraian_kegiatan" placeholder="" name="uraian_kegiatan" class="form-control" required></textarea>
		</div>
      <div class="col-md-6">
         <label class="form-label" for="target_capaian">Target Capaian</label>
         <textarea id="target_capaian"  placeholder="" name="target_capaian" class="form-control" required></textarea>
      </div>
      <div class="col-md-6">
         <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#Modal">
            <i class="fa-regular fa-folder-open mx-2"></i>PILIH FILE
         </button>  
         <input type="hidden" id="image_activity" name="image_activity" required>
      </div>
      <div class="col-md-6 d-grid justify-content-md-end justify-content-start">
         <button type="submit" class="btn btn-dark">
            <i class="fa-solid fa-floppy-disk mx-2"></i>SIMPAN DATA
         </button>
      </div>
   </form>
   </div>
   <div class="modal fade" id="Modal" tabindex="-1" aria-labelledby="ModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-body">
            <header class="fs-3 text-center mb-3 fw-semibold">Pilih File</header>
            <div class="d-grid gap-2">
               <button class="btn btn-dark" type="button" data-bs-toggle="modal" data-bs-target="#upload"><i class="fa-solid fa-file-arrow-up mx-2"></i>Unggah Gambar</button>
               <button class="btn btn-dark" type="button" data-bs-toggle="modal" data-bs-target="#capture" onclick="captureModal()"><i class="fa-solid fa-camera mx-2   "></i>Ambil Gambar</button>
             </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-dark btn-sm" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal" id="upload" tabindex="-1" aria-labelledby="ModalLabel" aria-hidden="true">
      <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-body">
           <header class="fs-3 text-center mb-3 fw-semibold">Unggah Gambar</header>
           <div class="d-grid gap-2">
            <span>Pilih Gambar</span>
            <input class="form-control" type="file" id="imageFile" name="image_activity" required>
            </div>
         </div>
         <div class="modal-footer">
            <a href="#!" class="btn btn-dark btn-sm" data-bs-dismiss="modal">Simpan</a>
         </div>
       </div>
     </div>
    </div>
    <div id="capture" class="modal" tabindex="-1" aria-labelledby="ModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-fullscreen">
         <div class="modal-content">
            <div class="modal-body">
               <header class="fs-3 text-center mb-3 fw-semibold">Ambil Gambar</header>
               <video autoplay="true" id="video"></video>
               <canvas id="canvas" style="display: none;"></canvas>
               <div class="d-grid justify-content-center mb-3">
                  <button type="button" class="btn btn-dark mb-3" onclick="capture()" id="btnCapture">Ambil Gambar</button>
                  <button type="button" class="btn btn-dark mb-3" onclick="flipCamera()" id="btnFlipCamera" style="display: block;">Balik Kamera</button>
                  <button type="button" class="btn btn-dark mb-3" id="btnResetCapture" style="display: none;">Ambil Gambar Lagi</button>
               </div>
               <div class="d-grid justify-content-end">
                  <a href="#!" class="btn btn-dark" data-bs-dismiss="modal">Simpan</a>
               </div>
            </div>
         </div>
      </div>
    </div>
   </body>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
   <script src="script.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
   <script>
      flatpickr("#datePicker", {
         dateFormat: "d-F-Y",
         disableMobile: "true"
      });
      </script>
</html>
